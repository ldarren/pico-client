<style scoped>
#creeps{
    background:#527f39;
}
.creep{
    background:#204631;
    border-top:#527f39 5px solid;
}
.creep span{
    background-image: url(dat/img/fantasy-tileset-combined.png);
    background-size: 832px;
    display:inline-block;
    margin:5px;
    vertical-align:top;
    width:64px;
    height:64px;
    image-rendering:-moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering:-webkit-optimize-contrast;
    -ms-interpolation-mode:nearest-neighbor;
}
.creep span.c152{background-position: 0px -1216px;}
.creep span.c153{background-position: -64px -1216px;}
.creep span.c154{background-position: -128px -1216px;}
.creep span.c155{background-position: -192px -1216px;}
.creep span.c156{background-position: -256px -1216px;}
.creep span.c157{background-position: -320px -1216px;}
.creep span.c158{background-position: -384px -1216px;}
.creep span.c159{background-position: -448px -1216px;}
.creep span.c160{background-position: 0px -1280px;}
.creep span.c161{background-position: -64px -1280px;}
.creep span.c162{background-position: -128px -1280px;}
.creep span.c163{background-position: -192px -1280px;}
.creep span.c164{background-position: -256px -1280px;}
.creep span.c165{background-position: -320px -1280px;}
.creep span.c166{background-position: -384px -1280px;}
.creep span.c167{background-position: -448px -1280px;}
.creep span.c168{background-position: 0px -1344px;}
.creep span.c169{background-position: -64px -1344px;}
.creep span.c170{background-position: -128px -1344px;}
.creep span.c171{background-position: -192px -1344px;}
.creep span.c172{background-position: -256px -1344px;}
.creep span.c173{background-position: -320px -1344px;}
.creep span.c174{background-position: -384px -1344px;}
.creep span.c175{background-position: -448px -1344px;}
.creep span.c176{background-position: 0px -1408px;}
.creep span.c177{background-position: -64px -1408px;}
.creep span.c178{background-position: -128px -1408px;}
.creep span.c179{background-position: -192px -1408px;}
.creep span.c180{background-position: -256px -1408px;}
.creep span.c181{background-position: -320px -1408px;}
.creep span.c182{background-position: -384px -1408px;}
.creep span.c183{background-position: -448px -1408px;}
.creep div{
    display:inline-block;
    padding:5px;
    vertical-align:top;
    width:70%;
}
.creep h4{
}
.creep p{
    padding: 5px 0;
}
.trait{
    background:#204631;
}
.trait span{
    background-image: url(dat/img/fantasy-spells.png);
    background-size: 192px;
    display:inline-block;
    margin:18px;
    border: 3px solid #527f39;
    vertical-align:top;
    width:32px;
    height:32px;
    image-rendering:-moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering:-webkit-optimize-contrast;
    -ms-interpolation-mode:nearest-neighbor;
}
.trait span.t223{background-position: 0px -192px;}
.trait span.t224{background-position: -32px -192px;}
.trait span.t225{background-position: -64px -192px;}
.trait span.t253{background-position: 0px -352px;}
.trait span.t254{background-position: -32px -352px;}
.trait span.t255{background-position: -64px -352px;}
.trait span.t271{background-position: 0px -416px;}
.trait span.t272{background-position: -32px -416px;}
.trait span.t273{background-position: -64px -416px;}
.trait span.t301{background-position: 0px -608px;}
.trait span.t302{background-position: -32px -608px;}
.trait span.t303{background-position: -64px -608px;}
.trait span.t304{background-position: -96px -608px;}
.trait span.t305{background-position: -128px -608px;}
.trait span.t306{background-position: -160px -608px;}
.trait span.t328{background-position: -96px -736px;}
.trait span.t329{background-position: -128px -736px;}
.trait span.t330{background-position: -160px -736px;}
.trait span.t343{background-position: -0px -832px;}
.trait span.t344{background-position: -32px -832px;}
.trait span.t345{background-position: -64px -832px;}
.trait span.t346{background-position: -96px -832px;}
.trait span.t347{background-position: -128px -832px;}
.trait span.t348{background-position: -160px -832px;}
.trait span.t349{background-position: -0px -864px;}
.trait span.t350{background-position: -32px -864px;}
.trait span.t351{background-position: -64px -864px;}
.trait span.t400{background-position: 0px -1152px;}
.trait span.t401{background-position: -32px -1152px;}
.trait span.t402{background-position: -64px -1152px;}
.trait span.t406{background-position: -96px -1152px;}
.trait span.t407{background-position: -128px -1152px;}
.trait span.t408{background-position: -160px -1152px;}
.trait span.t448{background-position: -96px -1376px;}
.trait span.t449{background-position: -128px -1376px;}
.trait span.t450{background-position: -160px -1376px;}
.trait span.t457{background-position: 0px -1440px;}
.trait span.t458{background-position: -32px -1440px;}
.trait span.t459{background-position: -64px -1440px;}
.trait span.t484{background-position: -96px -1568px;}
.trait span.t485{background-position: -128px -1568px;}
.trait span.t486{background-position: -160px -1568px;}
.trait span.t496{background-position: -96px -1632px;}
.trait span.t497{background-position: -128px -1632px;}
.trait span.t498{background-position: -160px -1632px;}
.trait span.t535{background-position: 0px -1856px;}
.trait span.t536{background-position: -32px -1856px;}
.trait span.t537{background-position: -64px -1856px;}
.trait span.t544{background-position: -96px -1888px;}
.trait span.t545{background-position: -128px -1888px;}
.trait span.t546{background-position: -160px -1888px;}
.trait span.t583{background-position: 0px -2112px;}
.trait span.t584{background-position: -32px -2112px;}
.trait span.t585{background-position: -64px -2112px;}
.trait div{
    display:inline-block;
    padding:5px;
    vertical-align:top;
    width:70%;
}
</style>
<div class=pageHead>
<a href=#>&lt;&lt;</a>
<span>Creeps</span>
</div>

<div id=creeps>
</div>

<script id=creepTempl type=text/templ>
<span class=CLASS></span>
<div>
<h4>NAME</h4>
<p>DESC</p>
</div>
</script>

<script link=creepsPage>

var god = require('god');

var
creepList = [152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183],
onBack = function(evt){
    pico.changeFrame('div#page', 'html/pageLogin.html', {opacity:[0,1,'1s']});
},
onLoad = function(){
    var 
    backBtn = document.querySelector('div.pageHead a'),
    list = document.querySelector('div#creeps'),
    templ = document.querySelector('script#creepTempl').textContent,
    id,ele,obj,j,tid;

    backBtn.addEventListener('click', onBack);

    list.innerHTML = '';

    for(var i=0,l=creepList.length; i<l; i++){
        id = creepList[i];
        ele = document.createElement('div');
        ele.className = 'creep';
        ele.innerHTML = templ
                                .replace('CLASS', 'c'+id)
                                .replace('NAME', G_OBJECT_NAME[id])
                                .replace('DESC', G_OBJECT_DESC[id]);
        list.appendChild(ele);

        obj = G_OBJECT[id];
        for(j=CREEP_ON_REVEAL;j<=CREEP_ON_BURY;j++){
            tid = obj[j];
            if (!tid) continue;
            ele = document.createElement('div');
            ele.className = 'trait';
            ele.innerHTML = templ
                                    .replace('CLASS', 't'+tid)
                                    .replace('NAME', G_OBJECT_NAME[tid])
                                    .replace('DESC', G_OBJECT_DESC[tid]);
            list.appendChild(ele);
        }
    }
};

me.slot(pico.LOAD, onLoad);
</script>
