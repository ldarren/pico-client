{
    "deps":{
        "util":"api/util",
        "user":"api/user",
        "room":"api/room",
        "request":"api/request",
        "locker":"api/locker",
        "consumer":"api/consumer",
        "agent":"api/agent",
        "device":"api/device",
        "web":["context","webServer"]
    },
    "routes":{
        "": [
            ["util","help"]
        ],
        "ERR": [
            [0]
        ],
        "ERR//lead/stream": [
            ["web","SSEAbort","error","res"]
        ],
        "END": [
            [0]
        ],
        "room.404": [
            ["util","sep",["#DEBUG# room.404 #DEBUG#"]]
        ],
        "web.dc":[
            ["room","remove","res"]
        ],
        "/lead":[
            ["util","route","req"],
            ["web","parse","req","res"]
        ],
        "/lead/stream":[
            ["user","verify","input","user"],
            ["util","prepareStream","input","output"],
            ["user","poll","input","user","output"],
            ["request","poll","input","user","output"],
            ["locker","poll","input","user","output"],
            ["room","add","res","user"],
            ["web","SSEStart","req","res"],
            ["room","stream",["poll"],"user","output"]
        ],
		"lead/broadcast":[
            ["room","broadcast",["poll"],"input"]
		],
        "lead/util/ping":[
            ["user","verify","input","user"],
            [0]
        ],
        "lead/user/signin": [
            ["user","signin","input","user"],
            [0]
        ],
        "lead/user/signup": [
            ["user","signup","input","user"],
            [0]
        ],
        "lead/user/signout": [
            ["user","signout","input","user"],
            [0]
        ],
        "lead/user/join": [
            ["user","join","input","user"],
            [0]
        ],
        "lead/user/read": [
            ["user","verify","input","user"],
            ["user","read","input"],
            [0]
        ],
        "lead/user/update": [
            ["user","verify","input","user"],
            ["user","update","input"],
            [0]
        ],
        "lead/device/update": [
            ["user","verify","input","user"],
            ["device","update","input"],
            [0]
        ],
        "lead/request/add": [
            ["user","verify","input","user"],
            ["request","add","input","request"],
            ["request","readById","request","msg"],
            ["request","setOutput","msg"],
            ["user","appoint","input",":list"],
            ["user","addAgent","request",":list"],
            ["room","publish",["lead/broadcast"],"msg",":list"],
            ["device","readTokens",":list","devices"],
            ["agent","newJobMsg","msg"],
            ["agent","send","devices","msg"],
            [0]
        ],
        "lead/request/read": [
            ["user","verify","input","user"],
            ["request","read","input"],
            [0]
        ],
        "lead/request/remove": [
            ["user","verify","input","user"],
            ["request","remove","input"],
            [0]
        ],
        "lead/request/list": [
            ["user","verify","input","user"],
            ["request","list","input"],
            [0]
        ],
        "lead/request/unlock": [
            ["user","verify","input","user"],
            ["request","verify","input","request","locker"],
            ["locker","unlock","locker","output"],
            ["locker","setOutput","output"],
            ["request","updateState","request",[2]],
            ["request","readById","request","msg"],
            ["request","getCreator","request",":list"],
            ["room","publish",["lead/broadcast"],"msg",":list"],
            ["device","readTokens",":list","devices"],
            ["consumer","requestUpdated","msg"],
            ["consumer","send","devices","msg"],
            [0]
        ],
        "lead/request/locker":[
            ["user","verify","input","user"],
            ["request","verify","input","request","locker"],
            ["locker","readById","locker","output"],
            ["locker","setOutput","output"],
            [0]
        ],
        "lead/locker/add": [
            ["user","verify","input","user"],
            ["locker","add","input","locker"],
            ["locker","readById","locker","output"],
            ["locker","setOutput","output"],
            [0]
        ],
        "lead/locker/read": [
            ["user","verify","input","user"],
            ["locker","read","input"],
            [0]
        ],
        "lead/locker/update": [
            ["user","verify","input","user"],
            ["locker","update","input"],
            [0]
        ],
        "lead/locker/remove": [
            ["user","verify","input","user"],
            ["locker","remove","input"],
            [0]
        ],
        "lead/locker/list": [
            ["user","verify","input","user"],
            ["locker","list","input"],
            [0]
        ],
        "lead/locker/unlock": [
            ["user","verify","input","user"],
            ["locker","verify","input","locker"],
            ["locker","unlock","locker","output"],
            ["locker","setOutput","output"],
            [0]
        ]
    }
}
