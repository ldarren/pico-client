{
    "deps":{
        "util":"api/util",
        "user":"api/user",
        "room":"api/room",
        "request":"api/request",
        "locker":"api/locker",
        "web":["context","webServer"]
    },
    "routes":{
        "": [
            ["util","help"]
        ],
        "ERR": [
            ["util","delay",[3000]],
            [0]
        ],
        "ERR/lead/stream": [
            ["web","SSEStop","res"]
        ],
        "END": [
            [0]
        ],
        "room.404": [
            ["web","SSEStop","res"]
        ],
        "web.dc":[
            ["room","remove","res"]
        ],
        "/lead":[
            ["util","route","req"],
            ["web","parse","req","res"]
        ],
        "/lead/stream":[
            ["user","verify","input","user"],
            ["util","prepareStream","input"],
            ["request","poll","input","user","output"],
            ["locker","poll","input","user","output"],
            ["room","add","res","user"],
            ["web","SSEStart","req","res"],
            ["room","stream",["poll"],"user","output"]
        ],
		"lead/broadcast":[
            ["room","broadcast",["poll"],"input"]
		],
        "lead/user/signin": [
            ["user","signin","input","user"],
            [0]
        ],
        "lead/user/signup": [
            ["user","signup","input","user"],
            [0]
        ],
        "lead/user/signout": [
            ["user","signout","input","user"],
            [0]
        ],
        "lead/user/join": [
            ["user","join","input","user"],
            [0]
        ],
        "lead/user/read": [
            ["user","verify","input","user"],
            ["user","read","input"],
            [0]
        ],
        "lead/user/update": [
            ["user","verify","input","user"],
            ["user","update","input"],
            [0]
        ],
        "lead/request/add": [
            ["user","verify","input","user"],
            ["request","add","input","request"],
            ["request","readById","request","output"],
            ["user","appoint","input","output"],
            ["request","addAgent","request","output"],
            ["room","publish",["lead/broadcast"],"output"],
            [0]
        ],
        "lead/request/read": [
            ["user","verify","input","user"],
            ["request","read","input"],
            [0]
        ],
        "lead/request/update": [
            ["user","verify","input","user"],
            ["request","update","input"],
            [0]
        ],
        "lead/request/remove": [
            ["user","verify","input","user"],
            ["request","remove","input"],
            [0]
        ],
        "lead/request/list": [
            ["user","verify","input","user"],
            ["request","list","input"],
            [0]
        ],
        "lead/request/unlock": [
            ["user","verify","input","user"],
            ["request","verify","input","locker"],
            ["locker","unlock","locker","output"],
            [0]
        ],
        "lead/locker/add": [
            ["user","verify","input","user"],
            ["locker","add","input","locker"],
            ["locker","readById","locker","output"],
            [0]
        ],
        "lead/locker/read": [
            ["user","verify","input","user"],
            ["locker","read","input"],
            [0]
        ],
        "lead/locker/update": [
            ["user","verify","input","user"],
            ["locker","update","input"],
            [0]
        ],
        "lead/locker/remove": [
            ["user","verify","input","user"],
            ["locker","remove","input"],
            [0]
        ],
        "lead/locker/list": [
            ["user","verify","input","user"],
            ["locker","list","input"],
            [0]
        ],
        "lead/locker/unlock": [
            ["user","verify","input","user"],
            ["locker","verify","input","locker"],
            ["locker","unlock","locker","output"],
            [0]
        ]
    }
}
