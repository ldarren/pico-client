[
    [
    ],[
        "css/index.css"
    ],[
		["html","file","Frame.html"],
		["org","text","pdl"],
        ["owner","models",{
            "create": "lead/user/signup",
            "read": "lead/user/signin"
        }],
        ["users","models",{
            "read": "lead/user/read"
        }],
		["requests","models",{
			"create":"lead/request/add",
			"read":"lead/request/read",
			"update":"lead/request/update",
			"delete":"lead/request/remove",
			"list":"lead/request/list"
		}],
		["lockers","models",{
			"create":"lead/locker/add",
			"read":"lead/locker/read",
			"update":"lead/locker/update",
			"delete":"lead/locker/remove",
			"list":"lead/locker/list"
		}],
        ["laundryOpt","models",{},[
            {"id":1,"name":"DryClean"},
            {"id":2,"name":"Laundry"},
            {"id":3,"name":"Load Wash"},
            {"id":4,"name":"Mix"}
        ]],
        ["surcharges","models",{},[
            {"id":1,"name":"Standard","percent":0,"lead":4},
            {"id":2,"name":"Quick","percent":25,"lead":3},
            {"id":3,"name":"Priority","percent":50,"lead":2},
            {"id":4,"name":"Express","percent":100,"lead":1}
        ]],
        ["pane","view",[
            ["paneId","int",0],
            ["options","map",{"id":"main"}]
        ],"js/Pane"],
        ["pane","view",[
            ["paneId","int",1],
            ["options","map",{"id":"secondary"}]
        ],"js/Pane"],
        ["common/ui/niko","view",[
            ["options","map",{"el":"#main.pane>div:nth-child(1)","className":"ripple hidden"}],
            ["paneId","int",0]
        ]],
        ["common/ui/niko","view",[
            ["options","map",{"el":"#secondary.pane>div:nth-child(1)","className":"ripple hidden"}],
            ["paneId","int",1]
        ]],
        [["common/auth/DataStream","DataStreamMixin"],"ctrl",[
            ["models","refs","models"],
            ["ping","models",{
                "create":"lead/util/ping"
            }],
            ["push","stream",{
                "events":[]
            }]
        ]],
        ["Device","ctrl",[
            ["owner","ref","owner"],
			["push","ctrl",[
				["gcmSenderId","text","pdl-consumer"]
			],"common/native/push"],
            ["devices","models",{
				"create":"lead/device/update",
				"remove":"lead/device/remove"
			}]
        ]],
        ["FormAuth","view",[
            ["owner","ref","owner"],
            ["tplSignin","file","FormSignin.asp"],
            ["tplSignup","file","FormSignup.asp"]
        ]],
        ["Modal","view",[
            ["options","map",{"className":"modal fullpage"}],
            ["Header","view",[
                ["tpl","file","header/Base.asp"],
                ["title","text","Add Request"],
                ["btnLeft","map",{"icon":"icon_ko"}],
                ["btnRight","map",{"icon":"icon_ok"}]
            ],"header/Base"],
            ["Form","view",[
				["tpl","file","Form.asp"]
			]]
        ]],
        ["Locker","ctrl",[
			["ble","ctrl",[],"common/native/ble"]
		]],
        [["common/auth/Session","SessionMixin"],"ctrl",[
            ["owner","ref","owner"],
            ["users","ref","users"],
            ["org","ref","org"]
        ]]
    ],{
        "":[
            ["options","map",{"className":"fulpage active"}],
            ["Void","view",[
				["tpl","file","Void.asp"]
            ]]
        ],
        "home":[
            ["options","map",{"className":"fulpage active"}],
            ["owner","ref","owner"],
			["requests","ref","requests"],
			["lockers","ref","lockers"],
			["laundryOpt","ref","laundryOpt"],
			["surcharges","ref","surcharges"],
            ["header/Base","view",[
                ["tpl","file","header/Base.asp"],
                ["title","text","My Requests"],
                ["btnLeft","map",{"icon":"icon_plus"}],
                ["btnRight","map",{"icon":"icon_search"}]
            ]],
			["ConsumerCtrl","ctrl",[
				["requests","ref","requests"],
				["lockers","ref","lockers"],
                ["laundryOpt","ref","laundryOpt"],
                ["surcharges","ref","surcharges"],
				["addRequest","list",[
                    [
					    {"type":"select","name":"type","label":"Type","holder":"Request Type","options":[[1,"Laundry"]],"value":1},
					    {"type":"datetime-local","name":"collect","label":"Collection","required":1},
                        {"type":"select","name":"lockerId","label":"Locker","holder":"Select a locker","options":[],"value":1}
                    ],
                    [
                        {"type":"number","name":"count","label":"Count","value":1,"required":1},
                        {"type":"select","name":"return","label":"Return","holder":"Return Date","options":[],"value":1},
                        {"type":"select","name":"laundry","label":"Process","holder":"Process","options":[],"value":2,"required":1},
                        {"type":"text","name":"note","label":"Note"},
                        {"type":"checkbox","name":"termncond","label":"T&Cs","url":"legal","required":1}
                    ]
				]
			]]],
            ["ListView","view",[
                ["options","map",{"className":"scrollable glass"}],
				["list","ref","requests"],
				["lockers","ref","lockers"],
                ["laundryOpt","ref","laundryOpt"],
                ["surcharges","ref","surcharges"],
				["Cell","view",[
					["options","map",{"className":"card request"}],
					["tpl","file","CardRequest.asp"],
				    ["lockers","ref","lockers"],
                    ["laundryOpt","ref","laundryOpt"],
                    ["surcharges","ref","surcharges"]
				],["Card","CardRequestMixin"]]
            ]],
            ["Menu","view",[
                ["tpl","file","Menu.asp"],
				["list","list",[
					{"className":"home selected","icon":"home","url":""},
					{"className":"locker","icon":"pass","url":"locker"},
					{"className":"profile","icon":"name","url":"profile"}
				]]
            ]]
        ],
        "locker":[
            ["options","map",{"className":"fulpage active"}],
            ["owner","ref","owner"],
			["lockers","ref","lockers"],
			["LockerCtrl","ctrl",[
				["lockers","ref","lockers"],
				["addLocker","list",[
                    [
                        {"type":"text","name":"name","label":"Name","holder":"Joe's Locker","required":1},
                        {"type":"text","name":"deviceId","label":"Device Id","value":"AF131569","required":1},
                        {"type":"text","name":"street","label":"Street","required":1},
                        {"type":"text","name":"city","label":"City","required":1}
                    ]
				]]
			]],
            ["header/Base","view",[
                ["tpl","file","header/Base.asp"],
                ["title","text","My Lockers"],
                ["btnLeft","map",{"icon":"icon_plus"}],
                ["btnRight","map",{"icon":"icon_search"}]
            ]],
            ["ListView","view",[
                ["options","map",{"className":"scrollable glass"}],
				["list","ref","lockers"],
				["lockers","models",{
					"create":"lead/locker/unlock"
				}],
				["Cell","view",[
					["options","map",{"className":"card locker"}],
					["tpl","file","CardLocker.asp"],
					["lockers","ref","lockers"]
				],["Card","CardLockerMixin"]]
            ]],
            ["Menu","view",[
                ["tpl","file","Menu.asp"],
				["list","list",[
					{"className":"home","icon":"home","url":"home"},
					{"className":"locker selected","icon":"pass","url":"locker"},
					{"className":"profile","icon":"name","url":"profile"}
				]]
            ]]
        ],
		"profile":[
            ["options","map",{"className":"fulpage active"}],
            ["owner","ref","owner"],
			["ProfileCtrl","ctrl",[
				["owner","ref","owner"]
			]],
            ["header/Base","view",[
                ["tpl","file","header/Base.asp"],
                ["title","text","My Profile"],
                ["btnLeft","map",{"icon":"icon_power"}],
                ["btnRight","map",{"icon":"icon_edit"}],
                ["header/User","view",[
					["tpl","file","header/User.asp"]
				]]
            ]],
            ["ScrollView","view",[
                ["options","map",{"className":"scrollable glass"}],
                ["Panel","view",[
                    ["tpl","file","Panel.asp"],
                    ["title","text","Statistic"],
                    ["rows","list",[
                        {"type":"text","label":"Total","value":0},
                        {"type":"text","label":"Monthly","value":0},
                        {"type":"text","label":"Weekly","value":0},
                        {"type":"text","label":"Accepted","value":0}
                    ]]
                ]],
                ["Panel","view",[
                    ["tpl","file","Panel.asp"],
                    ["title","text","Contacts"],
                    ["rows","list",[
                        {"type":"static","label":"Tel","value":"+65 98765432","url":"tel:+6598765432"},
                        {"type":"static","label":"Email","value":"support@laundrymart.com","url":"mailto:support@laundrymart.com"},
                        {"type":"static","label":"Address","value":"234, Jalan Woodlad E1, S(6745849)","url":"geo:53.33196,6.92583"}
                    ]]
                ]]
            ]],
            ["Menu","view",[
                ["tpl","file","Menu.asp"],
				["list","list",[
					{"className":"home","icon":"home","url":"home"},
					{"className":"locker","icon":"pass","url":"locker"},
					{"className":"profile selected","icon":"name","url":""}
				]]
            ]]
        ]
    },{
        "locker":["locker"],
        "profile":["profile"],
        "*action":["home"]
    }
]
