{
    "deps":{
        "util":"api/util",
        "user":"api/user",
        "email":"api/email",
        "entity":"api/entity",
        "web":["context","webServer"]
    },      
    "routes":{
        "/jasy":[
            ["util","route","req"],
			["web","parse","req","res"]
        ],
        "ERR|#msg": [
			["util","logParams"],
            [0]
        ],
        "END|#msg": [
            [0] 
        ],
        "jasy/email/signup":[
            ["util","have","input",[["email","pwd"]]],
            ["email","verifyEmail","input",[null]],
            ["util","randomStr",["$verifyId",20]],
            ["email","sendConfirmation","cred","input","$verifyId","output"],
            ["user","replyPrivate","output"],
            [0]
        ],
        "jasy/email/confirm":[
            ["util","have","input",[["email","verifyId"]]],
            ["email","verifyEmail","input",[null]],
            ["email","confirmation","cred","input","user"],
            ["user","create","cred","user",["user"]],
            ["util","randomStr",["$sessKey",20]],
            ["user","createSession","cred","user","$sessKey","session"],
            ["user","replyPrivate","session"],
            [0]
        ],
        "jasy/email/signin":[
            ["util","have","input",[["email","pwd"]]],
            ["email","verifyEmail","input","user"],
            ["email","verifyPwd","input","user"],
            ["util","randomStr",["$sessKey",20]],
            ["user","createSession","cred","user","$sessKey","session"],
            ["user","replyPrivate","session"],
            [0]
        ],
        "jasy/email/update":[
            ["user","verify","cred"],
            ["email","update","cred","input","output"],
            ["user","replyPrivate","output"],
            [0]
        ],
        "jasy/user/signout":[
            ["user","verify","cred"],
            ["user","removeSession","cred"],
            [0]
        ],
        "jasy/user/update":[
            ["user","verify","cred"],
            ["user","update","cred","input","output"],
            ["user","replyPrivate","output"],
            [0]
        ],
        "jasy/user/list":[
            ["user","verify","cred"],
            ["user","list","input",":output"],
            ["user","replyList",":output"],
            [0]
        ],
        "jasy/user/read":[
            ["user","verify","cred"],
            ["user","read","input","output"],
            ["user","reply","output"],
            [0]
        ],
        "jasy/entity/create":[
            ["util","have","input",[["name","type","parentId"]]],
            ["user","verify","cred"],
            ["util","randomStr",["$key",20]],
            ["util","randomStr",["$secret",40]],
            ["entity","create","cred","input","$key","$secret","output"],
            ["entity","replyPrivate","output"],
            [0]
        ],
        "#help": [
            ["util","help"] 
        ] 
    }
}   
