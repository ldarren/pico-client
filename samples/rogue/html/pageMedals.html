<style>
#medals{
    background:#527f39;
}
.medal{
    background:#204631;
}
.medal img{
    display:inline-block;
    padding:5px;
}
.medal div{
    display:inline-block;
    padding:5px;
}
.medal h4{
}
.medal p{
}
.medal span{
}
</style>

<div class=pageHead>
<a href=#>&lt;&lt;</a>
<span>Medals</span>
</div>

<div id=medals>
</div>

<script id=medalTempl type=text/templ>
<img src="dat/img/medals/ID.png" width=SIZE>
<div>
<h4>NAME</h4>
<p>DESC</p>
<span>Unlock: REWARD</span>
</div>
</script>

<script name=medalPage>
var
me = this,
medalList = [
'won', 'fall', 'gold', 'piety', 'plant','chest', 'common', 'charm', 'enchant', 'legendary', 'drink', 'learn', 
'insect', 'beast', 'undead', 'demon', 'def', 'patk', 'ratk', 'will', 'cast', 
'burn', 'curse', 'disease', 'fear', 'frozen', 'poison'],
onBack = function(evt){
    pico.changeFrame(document.body, 'div#page', 'html/pageLogin.html', {opacity:[0,1,'1s']});
},
onLoad = function(){
    var 
    socials = me.socials,
    backBtn = document.querySelector('div.pageHead a'),
    medalCont = document.querySelector('div#medals'),
    templ = document.querySelector('script#medalTempl').textContent,
    size = window.innerWidth > 800 ? 128 : 64,
    medalId,medalEle;

    backBtn.addEventListener('click', onBack);

    medalCont.innerHTML = '';

    for(var i=0,l=medalList.length; i<l; i++){
        medalId = medalList[i];
        medalEle = document.createElement('div');
        medalEle.className = 'medal';
        medalEle.innerHTML = templ
                                .replace('ID', medalId)
                                .replace('SIZE', size)
                                .replace('NAME', medalId)
                                .replace('DESC', 'blac blac blac')
                                .replace('REWARD', '1 Piety point');
        medalCont.appendChild(medalEle);
    }
};

me.use('socials');
me.use('god');

me.slot(pico.LOAD, onLoad);
</script>
