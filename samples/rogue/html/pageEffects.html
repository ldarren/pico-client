<style scoped>
#effects{
    background:#527f39;
}
.effect{
    background:#204631;
    border-top:#527f39 5px solid;
}
.effect span{
    background-image: url(dat/img/fantasy-spells.png);
    background-size: 384px;
    display:inline-block;
    margin:5px;
    vertical-align:top;
    width:64px;
    height:64px;
    image-rendering:-moz-crisp-edges;
    image-rendering: -o-crisp-edges;
    image-rendering:-webkit-optimize-contrast;
    -ms-interpolation-mode:nearest-neighbor;
}
.effect span.e223{background-position: 0px -384px;}
.effect span.e224{background-position: -64px -384px;}
.effect span.e225{background-position: -128px -384px;}
.effect span.e253{background-position: 0px -704px;}
.effect span.e254{background-position: -64px -704px;}
.effect span.e255{background-position: -128px -704px;}
.effect span.e271{background-position: 0px -832px;}
.effect span.e272{background-position: -64px -832px;}
.effect span.e273{background-position: -128px -832px;}
.effect span.e301{background-position: 0px -1216px;}
.effect span.e302{background-position: -64px -1216px;}
.effect span.e303{background-position: -128px -1216px;}
.effect span.e304{background-position: -192px -1216px;}
.effect span.e305{background-position: -256px -1216px;}
.effect span.e306{background-position: -320px -1216px;}
.effect span.e589{background-position: 0px -4288px;}
.effect span.e590{background-position: -64px -4288px;}
.effect span.e591{background-position: -128px -4288px;}
.effect span.e592{background-position: -192px -4288px;}
.effect span.e593{background-position: -256px -4288px;}
.effect span.e594{background-position: -320px -4288px;}
.effect div{
    display:inline-block;
    padding:5px;
    vertical-align:top;
    width:70%;
}
.effect h4{
}
.effect p{
    padding: 5px 0;
}
</style>
<div class=pageHead>
<a href=#>&lt;&lt;</a>
<span>Status Effects</span>
</div>

<div id=effects>
</div>

<script id=effectTempl type=text/templ>
<span class=CLASS></span>
<div>
<h4>NAME</h4>
<p>DESC</p>
</div>
</script>

<script link=effectsPage>
var
traitList = [223,253,271,301,304,328,343,346,349,400,406,448,457,484,496,535,544,583],
effectList = [589,590,591,592,593,594],
onBack = function(evt){
    pico.changeFrame('div#page', 'html/pageLogin.html', {opacity:[0,1,'1s']});
},
onLoad = function(){
    var 
    backBtn = document.querySelector('div.pageHead a'),
    list = document.querySelector('div#effects'),
    templ = document.querySelector('script#effectTempl').textContent,
    id,ele,j,k;

    backBtn.addEventListener('click', onBack);

    list.innerHTML = '';

    for(var i=0,l=effectList.length; i<l; i++){
        id = effectList[i];
        ele = document.createElement('div');
        ele.className = 'effect';
        ele.innerHTML = templ
                                .replace('CLASS', 'e'+id)
                                .replace('NAME', G_OBJECT_NAME[id])
                                .replace('DESC', G_OBJECT_DESC[id]);
        list.appendChild(ele);
    }

    for(var i=0,l=traitList.length; i<l; i++){
        id = traitList[i];
        for(var j=id,k=id+3;j<k;j++){
            ele = document.createElement('div');
            ele.className = 'effect';
            ele.innerHTML = templ
                                    .replace('CLASS', 'e'+j)
                                    .replace('NAME', G_OBJECT_NAME[j])
                                    .replace('DESC', G_OBJECT_DESC[j]);
            list.appendChild(ele);
        }
    }
};

me.slot(pico.LOAD, onLoad);
</script>
